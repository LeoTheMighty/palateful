// Prisma Schema for Palate Recipe Book
// https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id                     String   @id @default(cuid())
  auth0Id                String   @unique @map("auth0_id")
  email                  String   @unique
  name                   String?
  picture                String?
  emailVerified          Boolean  @default(false) @map("email_verified")
  hasCompletedOnboarding Boolean  @default(false) @map("has_completed_onboarding")
  createdAt              DateTime @default(now()) @map("created_at")
  updatedAt              DateTime @updatedAt @map("updated_at")

  // Future: recipes Recipe[]

  @@map("users")
}

// Future Recipe model (commented for now)
// model Recipe {
//   id          String   @id @default(cuid())
//   userId      String   @map("user_id")
//   title       String
//   description String?
//   categories  String[] // ["Breakfast", "Lunch", "Dinner", "Dessert"]
//   rating      Int?
//   triedCount  Int      @default(0) @map("tried_count")
//   createdAt   DateTime @default(now()) @map("created_at")
//   updatedAt   DateTime @updatedAt @map("updated_at")
//
//   user User @relation(fields: [userId], references: [id], onDelete: Cascade)
//
//   @@index([userId])
//   @@map("recipes")
// }
